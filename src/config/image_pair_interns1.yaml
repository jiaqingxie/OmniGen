# Image-Text Pair Generation Configuration for InternS1
dataset_path: SpectrumWorld/multimodal-spectroscopic-seed-datasets-full
generator_type: image_pair
generator_config:
  prompt_templates:
    basic_description:
      template: |
        You are analyzing a molecular spectrum image. Generate a descriptive English text.

        IMPORTANT CONSTRAINTS - YOU MUST USE THESE EXACT VALUES:
        - Molecular formula: {formula} (DO NOT CHANGE THIS)
        - SMILES notation: {smiles} (DO NOT CHANGE THIS)
        - Spectrum type: {spectrum_type}
        - Chemical Shifts: {chemical_shifts}

        TASK: Generate a description that STARTS with this exact phrase:
        "This is a {spectrum_type} spectrum of a molecule with formula {formula} (SMILES: {smiles}). The chemical shifts are {chemical_shifts}."

        Then continue with your analysis of the spectral features visible in the image.

        Requirements:
        - MUST use the exact formula and SMILES provided above
        - DO NOT infer or guess different molecular information
        - Focus on describing visible spectral features (peaks, bands, chemical shifts)
        - Provide chemical interpretation of the observed features
        - Write in clear, scientific English
        - Keep description between 100-500 words
        - Be educational and informative

        Please provide only the descriptive text, no additional formatting or quotation marks.
        
    detailed_analysis:
      template: |
        Provide a detailed scientific analysis of this molecular spectrum.

        IMPORTANT CONSTRAINTS - YOU MUST USE THESE EXACT VALUES:
        - Molecular formula: {formula} (DO NOT CHANGE THIS)
        - SMILES notation: {smiles} (DO NOT CHANGE THIS)
        - Spectrum type: {spectrum_type}
        - Chemical Shifts: {chemical_shifts}

        TASK: Generate a detailed analysis that includes the exact molecular information provided above.

        Structure your analysis with these sections:
        1. Spectrum type identification and analytical purpose
        2. Key spectral features and peak assignments for molecule {formula} (SMILES: {smiles}) with the given chemical shifts.
        3. Functional groups or structural elements identified
        4. Chemical significance and interpretation
        5. Educational insights about the molecular structure

        Requirements:
        - MUST use the exact formula and SMILES provided above
        - DO NOT infer or guess different molecular information
        - Write as if explaining to chemistry students
        - Use precise scientific terminology while remaining accessible
        - Scientific accuracy and clarity
        - Educational value
        - 200-800 words
        - Professional tone

        Please provide only the analytical text content.

  description_types: ["basic_description"]
  
  # Text generation settings - optimized for InternS1
  min_text_length: 50      # characters
  max_text_length: 3000    # characters
  max_out_len: 0         # 600 tokens  ~ 2400 characters ~ 450 words
  default_description_type: "basic_description"
  
  # Image output settings
  image_output_dir: "./tests_image/multimodal_output/itpair_interns1_spectrum_images"
  # Loader settings - limit source dataset to 3000 samples
  loader_kwargs:
    max_samples: 3000

model_type: interns1
model_config:
  api_key: sk-o3mE7Y335YJBNz3mtjRjEvmKzzzHPv75gqTJviokS1q3G55P
  base_url: https://chat.intern-ai.org.cn/api/v1/
  model_name: intern-s1

num_samples: 1500
output_path: multimodal_output/image_pairs_interns1_1500.json
verbose: true
max_retries: 3
